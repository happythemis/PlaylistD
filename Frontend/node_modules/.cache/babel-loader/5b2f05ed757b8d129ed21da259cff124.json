{"ast":null,"code":"import _regeneratorRuntime from\"/Users/themislee/Documents/cs411finalFB/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/themislee/Documents/cs411finalFB/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/themislee/Documents/cs411finalFB/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import FormControlLabel from'@material-ui/core/FormControlLabel';import Checkbox from'@material-ui/core/Checkbox';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import Box from'@material-ui/core/Box';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import Select from'@material-ui/core/Select';import MenuItem from'@material-ui/core/MenuItem';import Autocomplete from'@material-ui/lab/Autocomplete';import FormControl from'@material-ui/core/FormControl';import InputLabel from'@material-ui/core/InputLabel';import Divider from'@material-ui/core/Divider';var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)},formControl:{margin:theme.spacing(1),minWidth:120// maxWidth: 300,\n},chips:{display:'flex',flexWrap:'wrap'},chip:{margin:2},noLabel:{marginTop:theme.spacing(3)},paper2:{marginTop:theme.spacing(2),display:'flex',flexDirection:'column',alignItems:'center'},title:{// marginTop: theme.spacing(2),\ndisplay:'flex',flexDirection:'column',alignItems:'center'}};});var ITEM_HEIGHT=48;var ITEM_PADDING_TOP=8;var MenuProps={PaperProps:{style:{maxHeight:ITEM_HEIGHT*4.5+ITEM_PADDING_TOP,width:250}}};var MyGroups=function MyGroups(props){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),group_list=_useState2[0],setGroup_list=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),selected_group_id=_useState4[0],setSelected_group_id=_useState4[1];var _useState5=useState(20),_useState6=_slicedToArray(_useState5,2),max_number=_useState6[0],setMax_number=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),order_by=_useState8[0],setOrder_by=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),playlist=_useState10[0],setPlaylist=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),group_name=_useState12[0],setGroup_name=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),view_response=_useState14[0],setView_response=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),remove_s_id=_useState16[0],setRemove_s_id=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),remove_s_name=_useState18[0],setRemove_s_name=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),remove_response=_useState20[0],setRemove_response=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),GAC=_useState22[0],setGAC=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),names=_useState24[0],setNames=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),danceability=_useState26[0],setDanceability=_useState26[1];var _useState27=useState(0),_useState28=_slicedToArray(_useState27,2),energy=_useState28[0],setEnergy=_useState28[1];var _useState29=useState(0),_useState30=_slicedToArray(_useState29,2),loudness=_useState30[0],setLoudness=_useState30[1];var _useState31=useState(0),_useState32=_slicedToArray(_useState31,2),valence=_useState32[0],setValence=_useState32[1];var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),add_response=_useState34[0],setAdd_response=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),spotify_username=_useState36[0],setSpotify_username=_useState36[1];var _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),spotify_playlist_id=_useState38[0],setSpotify_playlist_id=_useState38[1];var _useState39=useState(\"\"),_useState40=_slicedToArray(_useState39,2),export_response=_useState40[0],setExport_response=_useState40[1];useEffect(function(){if(props.ls){fetch(\"/get_joined_groups?user_id=\"+props.ui).then(function(response){return response.json();}).then(function(data){setGroup_list(data['data']);});}},[]);var refresh_group_list=function refresh_group_list(){if(props.ls){var request=\"/get_group_song_list?group_id=\"+selected_group_id;request=request+\"&danceability=\"+danceability;request=request+\"&energy=\"+energy;request=request+\"&loudness=\"+loudness;request=request+\"&valence=\"+valence;request=request+\"&max_number=\"+max_number;request=request+\"&order_by=\"+order_by;fetch(request).then(function(response){return response.json();}).then(function(data){if(data['status']==0){}else{setPlaylist(data['data']);setSelected_group_id(GAC);}});}};if(!props.ls){return/*#__PURE__*/React.createElement(\"nav\",{className:\"HomeNav\"},/*#__PURE__*/React.createElement(\"h1\",null,\" Please sign in first\"));}return/*#__PURE__*/React.createElement(Container,{component:\"main\"},/*#__PURE__*/React.createElement(Grid,{container:true,item:true,xs:12,spacing:2},/*#__PURE__*/React.createElement(Grid,{item:true,xs:3},/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Select a Group\"),/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(Select,{labelId:\"select-method-number-label\",id:\"select-method-number\",value:selected_group_id,onChange:function onChange(e){return setSelected_group_id(e.target.value);}},group_list.map(function(group){return/*#__PURE__*/React.createElement(MenuItem,{value:group.group_id},group.group_name);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(Typography,{component:\"h5\",variant:\"h6\",className:classes.title},\"Preference\"),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"danceability-label\"},\"Danceability\"),/*#__PURE__*/React.createElement(Select,{labelId:\"danceability-select-label\",id:\"danceability-select\",value:danceability,onChange:function onChange(e){return setDanceability(e.target.value);},label:\"option\"},/*#__PURE__*/React.createElement(MenuItem,{value:0},\"-\"),/*#__PURE__*/React.createElement(MenuItem,{value:1},\"Low\"),/*#__PURE__*/React.createElement(MenuItem,{value:2},\"High\"))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"energy-label\"},\"Energy\"),/*#__PURE__*/React.createElement(Select,{labelId:\"energy-select-label\",id:\"energy-select\",value:energy,onChange:function onChange(e){return setEnergy(e.target.value);},label:\"option\"},/*#__PURE__*/React.createElement(MenuItem,{value:0},\"-\"),/*#__PURE__*/React.createElement(MenuItem,{value:1},\"Low\"),/*#__PURE__*/React.createElement(MenuItem,{value:2},\"High\"))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"loudness-label\"},\"Loudness\"),/*#__PURE__*/React.createElement(Select,{labelId:\"loudness-select-label\",id:\"loudness-select\",value:loudness,onChange:function onChange(e){return setLoudness(e.target.value);},label:\"option\"},/*#__PURE__*/React.createElement(MenuItem,{value:0},\"-\"),/*#__PURE__*/React.createElement(MenuItem,{value:1},\"Low\"),/*#__PURE__*/React.createElement(MenuItem,{value:2},\"High\"))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"valence-label\"},\"Valence\"),/*#__PURE__*/React.createElement(Select,{labelId:\"valence-select-label\",id:\"valence-select\",value:valence,onChange:function onChange(e){return setValence(e.target.value);},label:\"option\"},/*#__PURE__*/React.createElement(MenuItem,{value:0},\"-\"),/*#__PURE__*/React.createElement(MenuItem,{value:1},\"Low\"),/*#__PURE__*/React.createElement(MenuItem,{value:2},\"High\"))))))),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(\"form\",{className:classes.form,noValidate:true},/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"max_number\",label:\"Max Number of Songs\",name:\"max_number\",autoComplete:\"max_number\",value:max_number,onChange:function onChange(e){return setMax_number(e.target.value);}}),/*#__PURE__*/React.createElement(Select,{labelId:\"select-order-by-label\",id:\"select-order-by\",value:order_by,onChange:function onChange(e){return setOrder_by(e.target.value);}},/*#__PURE__*/React.createElement(MenuItem,{value:0},\"Order by Popularity\"),/*#__PURE__*/React.createElement(MenuItem,{value:1},\"Order by Name\"),/*#__PURE__*/React.createElement(MenuItem,{value:2},\"Order by Name Decreasing\"),/*#__PURE__*/React.createElement(MenuItem,{value:3},\"Order From Old to New\"),/*#__PURE__*/React.createElement(MenuItem,{value:4},\"Order From New to Old\")),/*#__PURE__*/React.createElement(Button,{type:\"button\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var request;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:request=\"/get_group_song_list?group_id=\"+selected_group_id;request=request+\"&danceability=\"+danceability;request=request+\"&energy=\"+energy;request=request+\"&loudness=\"+loudness;request=request+\"&valence=\"+valence;request=request+\"&max_number=\"+max_number;request=request+\"&order_by=\"+order_by;fetch(request).then(function(response){return response.json();}).then(function(data){if(data['status']==0){setView_response(\"Unsuccessful, please try again\");setRemove_response(\"\");setAdd_response(\"\");setExport_response(\"\");}else{setPlaylist(data['data']);setGroup_name(data['group_name']);setNames(data['names']);setView_response(\"\");setGAC(selected_group_id);setRemove_response(\"\");setAdd_response(\"\");setExport_response(\"\");}});case 8:case\"end\":return _context.stop();}}},_callee);}))},\"View\"),/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},view_response),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h6\"},/*#__PURE__*/React.createElement(\"br\",null),\"Add My Fav Songs to the group\"),/*#__PURE__*/React.createElement(Button,{type:\"button\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var group_id,user_id,info,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:group_id=GAC;user_id=props.ui;info={user_id:user_id,group_id:group_id};_context2.next=5;return fetch(\"/add_fav_songs_to_group\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(info)});case 5:response=_context2.sent;if(response.ok){setAdd_response(\"Songs Added Successfully\");setRemove_s_name(\"\");setRemove_response(\"\");refresh_group_list();setExport_response(\"\");}else{setAdd_response(\"Unsuccessful, please try again\");setExport_response(\"\");}case 7:case\"end\":return _context2.stop();}}},_callee2);}))},\"Add Fav Songs\"),/*#__PURE__*/React.createElement(Typography,{component:\"h5\",variant:\"body1\",className:classes.title},add_response),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h6\"},/*#__PURE__*/React.createElement(\"br\",null),\"Remove Song from the Group\"),/*#__PURE__*/React.createElement(Autocomplete,{id:\"controllable-states-demo\",options:playlist,getOptionLabel:function getOptionLabel(option){return option.s_name;},renderInput:function renderInput(params){return/*#__PURE__*/React.createElement(TextField,Object.assign({},params,{label:\"Sone Name\",variant:\"outlined\"}));},inputvalue:remove_s_name,onInputChange:function onInputChange(event,newInputValue){setRemove_s_name(newInputValue);}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var i,s_id,group_id,info,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:s_id=\"NONE\";i=0;case 2:if(!(i<playlist.length)){_context3.next=9;break;}if(!(remove_s_name==playlist[i].s_name)){_context3.next=6;break;}s_id=playlist[i].s_id;return _context3.abrupt(\"break\",9);case 6:i++;_context3.next=2;break;case 9:group_id=GAC;info={group_id:group_id,s_id:s_id};_context3.next=13;return fetch(\"/remove_song_from_group\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(info)});case 13:response=_context3.sent;if(response.ok){setRemove_response(\"Songs Removed Successfully\");setRemove_s_name(\"\");setAdd_response(\"\");refresh_group_list();setExport_response(\"\");}else{setRemove_response(\"Unsuccessful, please try again\");setExport_response(\"\");}case 15:case\"end\":return _context3.stop();}}},_callee3);}))},\"Remove\"),/*#__PURE__*/React.createElement(Typography,{component:\"h5\",variant:\"body1\",className:classes.title},remove_response),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(Typography,{component:\"h5\",variant:\"h6\",className:classes.title},/*#__PURE__*/React.createElement(\"br\",null),\"Export Songs to Spotify\"),/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"spotify_username\",label:\"Spotify Username\",name:\"spotify_username\",autoComplete:\"spotify_username\",value:spotify_username,onChange:function onChange(e){return setSpotify_username(e.target.value);}}),/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"playlist_uri\",label:\"Spotify Playlist URI\",name:\"playlist_uri\",autoComplete:\"playlist_uri\",value:spotify_playlist_id,onChange:function onChange(e){return setSpotify_playlist_id(e.target.value);}}),/*#__PURE__*/React.createElement(Button,{type:\"button\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var username,playlist_id,i,song_ids,info,response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:username=spotify_username;playlist_id=spotify_playlist_id;song_ids=[];for(i=0;i<playlist.length;i++){song_ids.push(playlist[i].s_id);}info={username:username,playlist_id:playlist_id,song_ids:song_ids};_context4.next=7;return fetch(\"/add_songs_to_spotify\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(info)});case 7:response=_context4.sent;if(response.ok){setExport_response(\"Export Successfully\");}else{setExport_response(\"Unsuccessful, please try again\");}case 9:case\"end\":return _context4.stop();}}},_callee4);}))},\"Export to Spotify\"),/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},export_response)))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:9},/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},group_name!=\"\"?/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"},group_name,\" (Group Access Code: \",GAC,\")\",/*#__PURE__*/React.createElement(\"br\",null),names):/*#__PURE__*/React.createElement(Typography,{component:\"h1\",variant:\"h5\"}),/*#__PURE__*/React.createElement(TableContainer,{component:Paper},/*#__PURE__*/React.createElement(Table,{className:classes.table,\"aria-label\":\"simple table\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,{align:\"left\",className:classes.chip},\"Song name\"),/*#__PURE__*/React.createElement(TableCell,{align:\"left\"},\"Album\"),/*#__PURE__*/React.createElement(TableCell,{align:\"left\"},\"Release Date\"),/*#__PURE__*/React.createElement(TableCell,{align:\"left\"},\"Artists\"))),/*#__PURE__*/React.createElement(TableBody,null,playlist.map(function(playlist){return/*#__PURE__*/React.createElement(TableRow,{key:playlist.name},/*#__PURE__*/React.createElement(TableCell,{align:\"left\",className:classes.chip},playlist.s_name),/*#__PURE__*/React.createElement(TableCell,{align:\"left\"},playlist.album_name),/*#__PURE__*/React.createElement(TableCell,{align:\"left\"},playlist.album_release_date),/*#__PURE__*/React.createElement(TableCell,{align:\"left\"},playlist.artist_names));}))))))));};export default MyGroups;","map":{"version":3,"sources":["/Users/themislee/Documents/cs411finalFB/front_end/src/MyGroups.js"],"names":["React","useState","useEffect","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","Typography","makeStyles","Container","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Select","MenuItem","Autocomplete","FormControl","InputLabel","Divider","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","form","width","submit","margin","formControl","minWidth","chips","flexWrap","chip","noLabel","paper2","title","ITEM_HEIGHT","ITEM_PADDING_TOP","MenuProps","PaperProps","style","maxHeight","MyGroups","props","classes","group_list","setGroup_list","selected_group_id","setSelected_group_id","max_number","setMax_number","order_by","setOrder_by","playlist","setPlaylist","group_name","setGroup_name","view_response","setView_response","remove_s_id","setRemove_s_id","remove_s_name","setRemove_s_name","remove_response","setRemove_response","GAC","setGAC","names","setNames","danceability","setDanceability","energy","setEnergy","loudness","setLoudness","valence","setValence","add_response","setAdd_response","spotify_username","setSpotify_username","spotify_playlist_id","setSpotify_playlist_id","export_response","setExport_response","ls","fetch","ui","then","response","json","data","refresh_group_list","request","e","target","value","map","group","group_id","user_id","info","method","headers","body","JSON","stringify","ok","option","s_name","params","event","newInputValue","s_id","i","length","username","playlist_id","song_ids","push","table","name","album_name","album_release_date","artist_names"],"mappings":"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","sourcesContent":["import React, {useState, useEffect}from 'react';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Divider from '@material-ui/core/Divider';\n\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    // maxWidth: 300,\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: 2,\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n  paper2: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  title: {\n    // marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n}));\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n};\n\nconst MyGroups= (props) => {\n  const classes = useStyles();\n\n  const [group_list, setGroup_list] = useState([]);\n  const [selected_group_id, setSelected_group_id] = useState(\"\");\n  const [max_number, setMax_number] = useState(20);\n  const [order_by, setOrder_by] = useState(0);\n  const [playlist, setPlaylist] = useState([]);\n  const [group_name, setGroup_name] = useState(\"\");\n  const [view_response, setView_response] = useState(\"\");\n  const [remove_s_id, setRemove_s_id] = useState(\"\");\n  const [remove_s_name, setRemove_s_name] = useState(\"\");\n  const [remove_response, setRemove_response] = useState(\"\");\n\n  const [GAC, setGAC] = useState(\"\");\n  const [names, setNames] = useState(\"\");\n\n  const [danceability, setDanceability] = useState(0);\n  const [energy, setEnergy] = useState(0);\n  const [loudness, setLoudness] = useState(0);\n  const [valence, setValence] = useState(0);\n\n  const [add_response, setAdd_response] = useState(\"\");\n\n  const [spotify_username, setSpotify_username] = useState(\"\");\n  const [spotify_playlist_id, setSpotify_playlist_id] = useState(\"\");\n  const [export_response, setExport_response] = useState(\"\");\n\n  useEffect(() => {\n    if(props.ls){\n      fetch(\"/get_joined_groups?user_id=\"+props.ui)\n      .then(response => response.json())\n      .then(data => {setGroup_list(data['data']);});\n    }\n  }, []);\n\n\n  const refresh_group_list = () => {\n    if(props.ls){\n      var request = \"/get_group_song_list?group_id=\"+selected_group_id;\n      request = request + \"&danceability=\" + danceability;\n      request = request + \"&energy=\" + energy;\n      request = request + \"&loudness=\" + loudness;\n      request = request + \"&valence=\" + valence;\n      request = request + \"&max_number=\" + max_number;\n      request = request + \"&order_by=\" + order_by;\n      fetch(request)\n      .then(response => response.json())\n      .then(data => {\n        if(data['status'] == 0){\n\n        }else{\n          setPlaylist(data['data']);\n          setSelected_group_id(GAC);\n        }\n      })\n    }\n  }\n\n  if(!props.ls){\n    return(\n      <nav className = \"HomeNav\">\n        <h1> Please sign in first</h1>\n      </nav>\n    );\n  }\n\n  return (\n    <Container component=\"main\">\n      <Grid container item xs={12} spacing={2}>\n        <Grid item xs={3}>\n          <div className={classes.paper}>\n            <Typography component=\"h1\" variant=\"h5\">\n              Select a Group\n            </Typography>\n            <Typography component=\"h1\" variant=\"h5\">\n              <br />\n            </Typography>\n            <Select\n              labelId=\"select-method-number-label\"\n              id=\"select-method-number\"\n              value={selected_group_id}\n              onChange={e => setSelected_group_id(e.target.value)}\n            >\n              {group_list.map((group) =>\n                <MenuItem value={group.group_id}>{group.group_name}</MenuItem>\n              )}\n            </Select>\n          </div>\n          \n          <div className=\"container\">\n            <Typography component=\"h5\" variant=\"h6\" className={classes.title}>\n              Preference\n            </Typography>\n            <Grid container>\n              <Grid item xs={12}>\n                <div>\n                 <FormControl variant=\"outlined\" className={classes.formControl}>\n                    <InputLabel id=\"danceability-label\">Danceability</InputLabel>\n                    <Select\n                      labelId=\"danceability-select-label\"\n                      id=\"danceability-select\"\n                      value={danceability}\n                      onChange={e => setDanceability(e.target.value)}\n                      label=\"option\"\n                    >\n                      <MenuItem value={0}>-</MenuItem>\n                      <MenuItem value={1}>Low</MenuItem>\n                      <MenuItem value={2}>High</MenuItem>\n                    </Select>\n                 </FormControl>\n                 </div>\n              </Grid>\n              <Grid item xs={12}>\n                <div>\n                  <FormControl variant=\"outlined\" className={classes.formControl}>\n                    <InputLabel id=\"energy-label\">Energy</InputLabel>\n                    <Select\n                      labelId=\"energy-select-label\"\n                      id=\"energy-select\"\n                      value={energy}\n                      onChange={e => setEnergy(e.target.value)}\n                      label=\"option\"\n                    >\n                      <MenuItem value={0}>-</MenuItem>\n                      <MenuItem value={1}>Low</MenuItem>\n                      <MenuItem value={2}>High</MenuItem>\n                    </Select>\n                  </FormControl>\n                </div>\n              </Grid>\n              <Grid item xs={12}>\n                <div> \n                  <FormControl variant=\"outlined\" className={classes.formControl}>\n                    <InputLabel id=\"loudness-label\">Loudness</InputLabel>\n                    <Select\n                      labelId=\"loudness-select-label\"\n                      id=\"loudness-select\"\n                      value={loudness}\n                      onChange={e => setLoudness(e.target.value)}\n                      label=\"option\"\n                    >\n                      <MenuItem value={0}>-</MenuItem>\n                      <MenuItem value={1}>Low</MenuItem>\n                      <MenuItem value={2}>High</MenuItem>\n                    </Select>\n                  </FormControl>\n                </div>\n              </Grid>\n              <Grid item xs={12}>\n                <div>\n                 <FormControl variant=\"outlined\" className={classes.formControl}>\n                    <InputLabel id=\"valence-label\">Valence</InputLabel>\n                    <Select\n                      labelId=\"valence-select-label\"\n                      id=\"valence-select\"\n                      value={valence}\n                      onChange={e => setValence(e.target.value)}\n                      label=\"option\"\n                    >\n                      <MenuItem value={0}>-</MenuItem>\n                      <MenuItem value={1}>Low</MenuItem>\n                      <MenuItem value={2}>High</MenuItem>\n                    </Select>\n                 </FormControl>\n                 </div>\n              </Grid>\n            </Grid>\n          </div>\n          <div className={classes.paper}>\n            <form className={classes.form} noValidate>\n              <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                id=\"max_number\"\n                label= \"Max Number of Songs\"\n                name=\"max_number\"\n                autoComplete=\"max_number\"\n                value={max_number}\n                onChange={e => setMax_number(e.target.value)}\n              />\n              <Select\n                labelId=\"select-order-by-label\"\n                id=\"select-order-by\"\n                value={order_by}\n                onChange={e => setOrder_by(e.target.value)}\n              >\n                <MenuItem value={0}>Order by Popularity</MenuItem>\n                <MenuItem value={1}>Order by Name</MenuItem>\n                <MenuItem value={2}>Order by Name Decreasing</MenuItem>\n                <MenuItem value={3}>Order From Old to New</MenuItem>\n                <MenuItem value={4}>Order From New to Old</MenuItem>\n              </Select>\n              <Button\n                type=\"button\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                onClick={async () => {\n                  var request = \"/get_group_song_list?group_id=\"+selected_group_id;\n                  request = request + \"&danceability=\" + danceability;\n                  request = request + \"&energy=\" + energy;\n                  request = request + \"&loudness=\" + loudness;\n                  request = request + \"&valence=\" + valence;\n                  request = request + \"&max_number=\" + max_number;\n                  request = request + \"&order_by=\" + order_by;\n                  fetch(request)\n                  .then(response => response.json())\n                  .then(data => {\n                    if(data['status'] == 0){\n                      setView_response(\"Unsuccessful, please try again\");\n                      setRemove_response(\"\");\n                      setAdd_response(\"\");\n                      setExport_response(\"\");\n                    }else{\n                      setPlaylist(data['data']);\n                      setGroup_name(data['group_name']);\n                      setNames(data['names']);\n                      setView_response(\"\");\n                      setGAC(selected_group_id);\n                      setRemove_response(\"\");\n                      setAdd_response(\"\");\n                      setExport_response(\"\");\n                    }\n                  });\n                }}\n                >\n                View\n              </Button>\n              <Typography component=\"h1\" variant=\"h5\">\n                {view_response}\n              </Typography>\n              <Divider />\n              <Typography component=\"h1\" variant=\"h6\">\n                <br />\n                Add My Fav Songs to the group\n              </Typography>\n              <Button\n                type=\"button\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                onClick={async () => {\n                  const group_id = GAC;\n                  const user_id = props.ui\n                  const info = {user_id, group_id};\n                  const response = await fetch(\"/add_fav_songs_to_group\", {\n                    method: \"POST\",\n                    headers: {\n                      \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(info)\n                  });\n                  if(response.ok) {\n                    setAdd_response(\"Songs Added Successfully\");\n                    setRemove_s_name(\"\")\n                    setRemove_response(\"\");\n                    refresh_group_list();\n                    setExport_response(\"\");\n                  }else{\n                    setAdd_response(\"Unsuccessful, please try again\");\n                    setExport_response(\"\");\n                  }\n                }}\n                >\n                Add Fav Songs\n              </Button>\n              <Typography component=\"h5\" variant=\"body1\" className={classes.title}>\n                {add_response}\n              </Typography>\n              <Divider />\n              <Typography component=\"h1\" variant=\"h6\">\n                <br />\n                Remove Song from the Group\n              </Typography>\n              <Autocomplete\n                id=\"controllable-states-demo\"\n                options={playlist}\n                getOptionLabel={(option) => option.s_name}\n                renderInput={(params) => <TextField {...params} label=\"Sone Name\" variant=\"outlined\" />}\n                inputvalue={remove_s_name}\n                onInputChange={(event, newInputValue) => {setRemove_s_name(newInputValue);}}\n              />\n              <Button\n                type=\"button\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                onClick={async () => {\n                  var i;\n                  var s_id = \"NONE\";\n                  for (i = 0; i < playlist.length; i++){\n                    if(remove_s_name == playlist[i].s_name){\n                      s_id = playlist[i].s_id;\n                      break;\n                    }\n                  }\n                  const group_id = GAC;\n                  const info = {group_id, s_id};\n                  const response = await fetch(\"/remove_song_from_group\", {\n                    method: \"POST\",\n                    headers: {\n                      \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(info)\n                  });\n\n                  if(response.ok) {\n                    setRemove_response(\"Songs Removed Successfully\");\n                    setRemove_s_name(\"\");\n                    setAdd_response(\"\");\n                    refresh_group_list();\n                    setExport_response(\"\");\n                  }else{\n                    setRemove_response(\"Unsuccessful, please try again\");\n                    setExport_response(\"\");\n                  }\n                }}\n                >\n                Remove\n              </Button>\n              <Typography component=\"h5\" variant=\"body1\" className={classes.title}>\n                {remove_response}\n              </Typography>\n              <Divider />\n              <Typography component=\"h5\" variant=\"h6\" className={classes.title}>\n                <br />\n                Export Songs to Spotify\n              </Typography>\n              <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                id=\"spotify_username\"\n                label= \"Spotify Username\"\n                name=\"spotify_username\"\n                autoComplete=\"spotify_username\"\n                value={spotify_username}\n                onChange={e => setSpotify_username(e.target.value)}\n              />\n              <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                id=\"playlist_uri\"\n                label= \"Spotify Playlist URI\"\n                name=\"playlist_uri\"\n                autoComplete=\"playlist_uri\"\n                value={spotify_playlist_id}\n                onChange={e => setSpotify_playlist_id(e.target.value)}\n              />\n              <Button\n                type=\"button\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                onClick={async () => {\n                  const username = spotify_username;\n                  const playlist_id = spotify_playlist_id;\n                  var i;\n                  var song_ids = [];\n                  for (i = 0; i < playlist.length; i++){\n                    song_ids.push(playlist[i].s_id);\n                  }\n                  const info = {username, playlist_id, song_ids};\n                  const response = await fetch(\"/add_songs_to_spotify\", {\n                    method: \"POST\",\n                    headers: {\n                      \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(info)\n                  });\n\n                  if(response.ok) {\n                    setExport_response(\"Export Successfully\");\n                  }else{\n                    setExport_response(\"Unsuccessful, please try again\");\n                  }\n                }}\n                >\n                Export to Spotify\n              </Button>\n              <Typography component=\"h1\" variant=\"h5\">\n                {export_response}\n              </Typography>\n            </form>\n            \n          </div>\n        </Grid>\n        <Grid item xs={9}>\n          <div className={classes.paper}>\n            {group_name != \"\" ? (\n              <Typography component=\"h1\" variant=\"h5\">\n                {group_name} (Group Access Code: {GAC})\n                <br />\n                {names}\n              </Typography>\n            ):(\n              <Typography component=\"h1\" variant=\"h5\">\n              </Typography>\n            )}\n            <TableContainer component={Paper}>\n              <Table className={classes.table} aria-label=\"simple table\">\n                <TableHead>\n                  <TableRow>\n                    {/* <TableCell align=\"right\">Song Order</TableCell> */}\n                    <TableCell align=\"left\" className={classes.chip}>Song name</TableCell>\n                    <TableCell align=\"left\">Album</TableCell>\n                    <TableCell align=\"left\">Release Date</TableCell>\n                    <TableCell align=\"left\">Artists</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {playlist.map((playlist) => (\n                    <TableRow key={playlist.name}>\n                      <TableCell align=\"left\" className={classes.chip}>{playlist.s_name}</TableCell>\n                      <TableCell align=\"left\">{playlist.album_name}</TableCell>\n                      <TableCell align=\"left\">{playlist.album_release_date}</TableCell>\n                      <TableCell align=\"left\">{playlist.artist_names}</TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </div>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\nexport default MyGroups;"]},"metadata":{},"sourceType":"module"}